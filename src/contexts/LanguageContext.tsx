import React, { createContext, useContext, useState, ReactNode } from 'react';

type Language = 'en' | 'pt' | 'es' | 'fr' | 'de' | 'it' | 'ja';

interface LanguageContextProps {
  language: Language;
  setLanguage: (language: Language) => void;
  t: (key: string) => string;
}

const LanguageContext = createContext<LanguageContextProps | undefined>(undefined);

const translations = {
  en: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Your time tracking companion',
    'app.github': 'GitHub',
    'loading': 'Loading...',
    'welcome.hero.title': 'Welcome to TimeTracker',
    'welcome.hero.subtitle': 'Track your time efficiently and transparently',
    'welcome.hero.description': 'Manage your projects and clients with ease.',
    'setup.title': 'Setup',
    'setup.subtitle': 'Configure your API credentials',
    'setup.api.url.label': 'API Base URL',
    'setup.api.url.placeholder': 'https://api.example.com',
    'setup.token.label': 'Bearer Token',
    'setup.token.placeholder': 'Enter your bearer token',
    'setup.organization.label': 'Organization ID',
    'setup.organization.placeholder': 'Enter your organization ID',
    'setup.error.fields': 'Please fill in all fields.',
    'setup.error.save': 'Failed to save configuration.',
    'setup.validating': 'Validating credentials...',
    'setup.error.invalid.token': 'Invalid bearer token. Please check your token.',
    'setup.error.invalid.organization': 'Invalid organization ID. Please check your organization ID.',
    'setup.error.invalid.credentials': 'Invalid credentials. Please check your API URL, token, and organization ID.',
    'get.started': 'Get Started',
    'config.generator.title': 'Configuration Link Generator',
    'config.generator.subtitle': 'Generate a configuration link to share with your team',
    'config.generator.generate': 'Generate Link',
    'config.generator.link': 'Generated Link',
    'config.generator.success': 'Link generated successfully! Share this link to configure the app automatically.',
    'config.generator.warning': 'Warning: This link contains sensitive information. Share it securely.',
    'config.link.generated': 'Configuration link generated successfully!',
    'config.link.copied': 'Link copied to clipboard!',
    'config.url.processing': 'Processing Configuration',
    'config.url.processing.subtitle': 'Please wait while we configure your application...',
    'config.url.success': 'Configuration Successful',
    'config.url.success.subtitle': 'Your application has been configured successfully.',
    'config.url.error': 'Configuration Error',
    'config.url.error.subtitle': 'There was an error processing your configuration.',
    'config.url.error.missing': 'Missing configuration parameters in the URL.',
    'config.url.error.invalid': 'Invalid configuration parameters.',
    'config.url.redirect': 'Redirecting to projects in 2 seconds...',
    'config.url.back': 'Back to Home',
    'success': 'Success',
    'error': 'Error'
  },
  pt: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Seu companheiro de rastreamento de tempo',
    'app.github': 'GitHub',
    'loading': 'Carregando...',
    'welcome.hero.title': 'Bem-vindo ao TimeTracker',
    'welcome.hero.subtitle': 'Rastreie seu tempo de forma eficiente e transparente',
    'welcome.hero.description': 'Gerencie seus projetos e clientes com facilidade.',
    'setup.title': 'Configuração',
    'setup.subtitle': 'Configure suas credenciais da API',
    'setup.api.url.label': 'URL Base da API',
    'setup.api.url.placeholder': 'https://api.exemplo.com',
    'setup.token.label': 'Token Bearer',
    'setup.token.placeholder': 'Insira seu token bearer',
    'setup.organization.label': 'ID da Organização',
    'setup.organization.placeholder': 'Insira o ID da sua organização',
    'setup.error.fields': 'Por favor, preencha todos os campos.',
    'setup.error.save': 'Falha ao salvar a configuração.',
    'setup.validating': 'Validando credenciais...',
    'setup.error.invalid.token': 'Token inválido. Por favor, verifique seu token.',
    'setup.error.invalid.organization': 'ID da organização inválido. Por favor, verifique o ID da sua organização.',
    'setup.error.invalid.credentials': 'Credenciais inválidas. Por favor, verifique sua URL da API, token e ID da organização.',
    'get.started': 'Começar',
    'config.generator.title': 'Gerador de Link de Configuração',
    'config.generator.subtitle': 'Gere um link de configuração para compartilhar com sua equipe',
    'config.generator.generate': 'Gerar Link',
    'config.generator.link': 'Link Gerado',
    'config.generator.success': 'Link gerado com sucesso! Compartilhe este link para configurar o app automaticamente.',
    'config.generator.warning': 'Aviso: Este link contém informações sensíveis. Compartilhe com segurança.',
    'config.link.generated': 'Link de configuração gerado com sucesso!',
    'config.link.copied': 'Link copiado para a área de transferência!',
    'config.url.processing': 'Processando Configuração',
    'config.url.processing.subtitle': 'Aguarde enquanto configuramos sua aplicação...',
    'config.url.success': 'Configuração Bem-sucedida',
    'config.url.success.subtitle': 'Sua aplicação foi configurada com sucesso.',
    'config.url.error': 'Erro de Configuração',
    'config.url.error.subtitle': 'Houve um erro ao processar sua configuração.',
    'config.url.error.missing': 'Parâmetros de configuração ausentes na URL.',
    'config.url.error.invalid': 'Parâmetros de configuração inválidos.',
    'config.url.redirect': 'Redirecionando para projetos em 2 segundos...',
    'config.url.back': 'Voltar ao Início',
    'success': 'Sucesso',
    'error': 'Erro'
  },
  es: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Tu compañero para el seguimiento del tiempo',
    'app.github': 'GitHub',
    'loading': 'Cargando...',
    'welcome.hero.title': 'Bienvenido a TimeTracker',
    'welcome.hero.subtitle': 'Rastrea tu tiempo de manera eficiente y transparente',
    'welcome.hero.description': 'Gestiona tus proyectos y clientes con facilidad.',
    'setup.title': 'Configuración',
    'setup.subtitle': 'Configura tus credenciales de API',
    'setup.api.url.label': 'URL Base de la API',
    'setup.api.url.placeholder': 'https://api.ejemplo.com',
    'setup.token.label': 'Token Bearer',
    'setup.token.placeholder': 'Introduce tu token bearer',
    'setup.organization.label': 'ID de la Organización',
    'setup.organization.placeholder': 'Introduce el ID de tu organización',
    'setup.error.fields': 'Por favor, completa todos los campos.',
    'setup.error.save': 'Error al guardar la configuración.',
    'setup.validating': 'Validando credenciales...',
    'setup.error.invalid.token': 'Token inválido. Por favor, verifica tu token.',
    'setup.error.invalid.organization': 'ID de organización inválido. Por favor, verifica el ID de tu organización.',
    'setup.error.invalid.credentials': 'Credenciales inválidas. Por favor, verifica tu URL de API, token e ID de organización.',
    'get.started': 'Comenzar',
    'config.generator.title': 'Generador de Enlace de Configuración',
    'config.generator.subtitle': 'Genera enlaces de configuración fácilmente',
    'config.generator.generate': 'Generar Enlace',
    'config.generator.link': 'Enlace Generado',
    'config.generator.success': 'Enlace generado con éxito! Compartilhe este enlace para configurar el app automaticamente.',
    'config.generator.warning': 'Aviso: Este enlace contiene información sensible. Compartilhe con seguridad.',
    'config.link.generated': 'Enlace de configuración generado con éxito!',
    'config.link.copied': 'Enlace copiado a la portapapeles!',
    'config.url.processing': 'Procesando Configuración',
    'config.url.processing.subtitle': 'Por favor, espera mientras configuramos tu aplicación...',
    'config.url.success': 'Configuración Exitosa',
    'config.url.success.subtitle': 'Tu aplicación ha sido configurada con éxito.',
    'config.url.error': 'Error de Configuración',
    'config.url.error.subtitle': 'Hubo un error al procesar tu configuración.',
    'config.url.error.missing': 'Parámetros de configuración ausentes en la URL.',
    'config.url.error.invalid': 'Parámetros de configuración inválidos.',
    'config.url.redirect': 'Redirigiendo a proyectos en 2 segundos...',
    'config.url.back': 'Volver al Inicio',
    'success': 'Éxito',
    'error': 'Error'
  },
  fr: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Votre compagnon de suivi du temps',
    'app.github': 'GitHub',
    'loading': 'Chargement...',
    'welcome.hero.title': 'Bienvenue sur TimeTracker',
    'welcome.hero.subtitle': 'Suivez votre temps efficacement et en toute transparence',
    'welcome.hero.description': 'Gérez vos projets et clients facilement.',
    'setup.title': 'Configuration',
    'setup.subtitle': 'Configurez vos identifiants API',
    'setup.api.url.label': 'URL de base de l\'API',
    'setup.api.url.placeholder': 'https://api.exemple.com',
    'setup.token.label': 'Token Bearer',
    'setup.token.placeholder': 'Entrez votre token bearer',
    'setup.organization.label': 'ID de l\'organisation',
    'setup.organization.placeholder': 'Entrez l\'ID de votre organisation',
    'setup.error.fields': 'Veuillez remplir tous les champs.',
    'setup.error.save': 'Échec de la sauvegarde de la configuration.',
    'setup.validating': 'Validation des identifiants...',
    'setup.error.invalid.token': 'Token invalide. Veuillez vérifier votre token.',
    'setup.error.invalid.organization': 'ID d\'organisation invalide. Veuillez vérifier l\'ID de votre organisation.',
    'setup.error.invalid.credentials': 'Identifiants invalides. Veuillez vérifier votre URL d\'API, token et ID d\'organisation.',
    'get.started': 'Commencer',
    'config.generator.title': 'Générateur de lien de configuration',
    'config.generator.subtitle': 'Générez facilement des liens de configuration',
    'config.generator.generate': 'Générer le lien',
    'config.generator.link': 'Lien Généré',
    'config.generator.success': 'Lien généré avec succès! Partagez ce lien pour configurer automatiquement l\'application.',
    'config.generator.warning': 'Avertissement: Ce lien contient des informations sensibles. Partagez-le de manière sécurisée.',
    'config.link.generated': 'Lien de configuration généré avec succès!',
    'config.link.copied': 'Lien copié dans le presse-papiers!',
    'config.url.processing': 'Traitement de la configuration',
    'config.url.processing.subtitle': 'Veuillez patienter pendant que nous configurons votre application...',
    'config.url.success': 'Configuration réussie',
    'config.url.success.subtitle': 'Votre application a été configurée avec succès.',
    'config.url.error': 'Erreur de configuration',
    'config.url.error.subtitle': 'Il y a eu un problème lors du traitement de votre configuration.',
    'config.url.error.missing': 'Paramètres de configuration manquants dans l\'URL.',
    'config.url.error.invalid': 'Paramètres de configuration invalides.',
    'config.url.redirect': 'Redirection vers les projets en 2 secondes...',
    'config.url.back': 'Retour à l\'Accueil',
    'success': 'Succès',
    'error': 'Erreur'
  },
  de: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Ihr Begleiter für die Zeiterfassung',
    'app.github': 'GitHub',
    'loading': 'Laden...',
    'welcome.hero.title': 'Willkommen bei TimeTracker',
    'welcome.hero.subtitle': 'Verfolgen Sie Ihre Zeit effizient und transparent',
    'welcome.hero.description': 'Verwalten Sie Ihre Projekte und Kunden mühelos.',
    'setup.title': 'Einrichtung',
    'setup.subtitle': 'Konfigurieren Sie Ihre API-Zugangsdaten',
    'setup.api.url.label': 'API-Basis-URL',
    'setup.api.url.placeholder': 'https://api.beispiel.com',
    'setup.token.label': 'Bearer-Token',
    'setup.token.placeholder': 'Geben Sie Ihr Bearer-Token ein',
    'setup.organization.label': 'Organisations-ID',
    'setup.organization.placeholder': 'Geben Sie Ihre Organisations-ID ein',
    'setup.error.fields': 'Bitte füllen Sie alle Felder aus.',
    'setup.error.save': 'Konfiguration konnte nicht gespeichert werden.',
    'setup.validating': 'Validierung der Zugangsdaten...',
    'setup.error.invalid.token': 'Ungültiges Bearer-Token. Bitte überprüfen Sie Ihr Token.',
    'setup.error.invalid.organization': 'Ungültige Organisations-ID. Bitte überprüfen Sie Ihre Organisations-ID.',
    'setup.error.invalid.credentials': 'Ungültige Zugangsdaten. Bitte überprüfen Sie Ihre API-URL, Token und Organisations-ID.',
    'get.started': 'Loslegen',
    'config.generator.title': 'Konfigurationslink-Generator',
    'config.generator.subtitle': 'Generieren Sie einfach Konfigurationslinks',
    'config.generator.generate': 'Generieren Sie den Link',
    'config.generator.link': 'Generierter Link',
    'config.generator.success': 'Link erfolgreich generiert! Teilen Sie diesen Link, um die App automatisch zu konfigurieren.',
    'config.generator.warning': 'Achtung: Dieser Link enthält sensible Informationen. Teilen Sie ihn sicher.',
    'config.link.generated': 'Konfigurationslink erfolgreich generiert!',
    'config.link.copied': 'Link in die Zwischenablage kopiert!',
    'config.url.processing': 'Konfiguration wird verarbeitet',
    'config.url.processing.subtitle': 'Bitte warten Sie, während wir Ihre Anwendung konfigurieren...',
    'config.url.success': 'Konfiguration erfolgreich',
    'config.url.success.subtitle': 'Ihre Anwendung wurde erfolgreich konfiguriert.',
    'config.url.error': 'Konfigurationsfehler',
    'config.url.error.subtitle': 'Es ist ein Fehler beim Verarbeiten Ihrer Konfiguration aufgetreten.',
    'config.url.error.missing': 'Fehlende Konfigurationsparameter in der URL.',
    'config.url.error.invalid': 'Ungültige Konfigurationsparameter.',
    'config.url.redirect': 'Umleitung zu Projekten in 2 Sekunden...',
    'config.url.back': 'Zurück zur Startseite',
    'success': 'Erfolg',
    'error': 'Fehler'
  },
  it: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Il tuo compagno per il monitoraggio del tempo',
    'app.github': 'GitHub',
    'loading': 'Caricamento...',
    'welcome.hero.title': 'Benvenuto in TimeTracker',
    'welcome.hero.subtitle': 'Monitora il tuo tempo in modo efficiente e trasparente',
    'welcome.hero.description': 'Gestisci i tuoi progetti e clienti con facilità.',
    'setup.title': 'Configurazione',
    'setup.subtitle': 'Configura le tue credenziali API',
    'setup.api.url.label': 'URL Base API',
    'setup.api.url.placeholder': 'https://api.esempio.com',
    'setup.token.label': 'Token Bearer',
    'setup.token.placeholder': 'Inserisci il tuo token bearer',
    'setup.organization.label': 'ID Organizzazione',
    'setup.organization.placeholder': 'Inserisci l\'ID della tua organizzazione',
    'setup.error.fields': 'Per favore, compila tutti i campi.',
    'setup.error.save': 'Impossibile salvare la configurazione.',
    'setup.validating': 'Validazione credenziali...',
    'setup.error.invalid.token': 'Token non valido. Controlla il tuo token.',
    'setup.error.invalid.organization': 'ID organizzazione non valido. Controlla l\'ID della tua organizzazione.',
    'setup.error.invalid.credentials': 'Credenziali non valide. Controlla la tua URL API, token e ID organizzazione.',
    'get.started': 'Inizia',
    'config.generator.title': 'Generatore di link di configurazione',
    'config.generator.subtitle': 'Genera facilmente link di configurazione',
    'config.generator.generate': 'Genera il link',
    'config.generator.link': 'Link Generato',
    'config.generator.success': 'Link generato con successo! Condividi questo link per configurare automaticamente l\'app.',
    'config.generator.warning': 'Attenzione: Questo link contiene informazioni sensibili. Condividilo con sicurezza.',
    'config.link.generated': 'Link di configurazione generato con successo!',
    'config.link.copied': 'Link copiato nella clipboard!',
    'config.url.processing': 'Configurazione in corso',
    'config.url.processing.subtitle': 'Attendere mentre configuriamo la tua applicazione...',
    'config.url.success': 'Configurazione completata',
    'config.url.success.subtitle': 'La tua applicazione è stata configurata con successo.',
    'config.url.error': 'Errore di configurazione',
    'config.url.error.subtitle': 'Si è verificato un errore durante il processamento della tua configurazione.',
    'config.url.error.missing': 'Parametri di configurazione mancanti nella URL.',
    'config.url.error.invalid': 'Parametri di configurazione invalidi.',
    'config.url.redirect': 'Ridirezione verso i progetti in 2 secondi...',
    'config.url.back': 'Ritorna alla Home',
    'success': 'Successo',
    'error': 'Errore'
  },
  ja: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'あなたの時間追跡パートナー',
    'app.github': 'GitHub',
    'loading': '読み込み中...',
    'welcome.hero.title': 'TimeTrackerへようこそ',
    'welcome.hero.subtitle': '効率的かつ透明性のある時間管理',
    'welcome.hero.description': 'プロジェクトとクライアントを簡単に管理。',
    'setup.title': 'セットアップ',
    'setup.subtitle': 'API認証情報を設定してください',
    'setup.api.url.label': 'APIベースURL',
    'setup.api.url.placeholder': 'https://api.example.com',
    'setup.token.label': 'ベアラートークン',
    'setup.token.placeholder': 'ベアラートークンを入力してください',
    'setup.organization.label': '組織ID',
    'setup.organization.placeholder': '組織IDを入力してください',
    'setup.error.fields': 'すべてのフィールドを入力してください。',
    'setup.error.save': '設定の保存に失敗しました。',
    'setup.validating': '認証情報を検証中...',
    'setup.error.invalid.token': '無効なベアラートークンです。トークンを確認してください。',
    'setup.error.invalid.organization': '無効な組織IDです。組織IDを確認してください。',
    'setup.error.invalid.credentials': '無効な認証情報です。API URL、トークン、組織IDを確認してください。',
    'get.started': '開始する',
    'config.generator.title': '設定リンクジェネレーター',
    'config.generator.subtitle': '簡単に設定リンクを生成',
    'config.generator.generate': 'リンク生成',
    'config.generator.link': '生成したリンク',
    'config.generator.success': 'リンク生成成功！アプリを自動的に設定するためにこのリンクを共有してください。',
    'config.generator.warning': '警告：このリンクには機密情報が含まれています。安全に共有してください。',
    'config.link.generated': '設定リンク生成成功！',
    'config.link.copied': 'クリップボードにリンクがコピーされました！',
    'config.url.processing': '設定処理中',
    'config.url.processing.subtitle': 'アプリを設定するまでしばらくお待ちください...',
    'config.url.success': '設定成功',
    'config.url.success.subtitle': 'アプリが成功で設定されました。',
    'config.url.error': '設定エラー',
    'config.url.error.subtitle': '設定処理中にエラーが発生しました。',
    'config.url.error.missing': 'URLに設定パラメータが不足しています。',
    'config.url.error.invalid': '無効な設定パラメータが含まれています。',
    'config.url.redirect': '2秒後にプロジェクトにリダイレクトします...',
    'config.url.back': 'ホームに戻る',
    'success': '成功',
    'error': 'エラー'
  }
};

export const LanguageProvider = ({ children }: { children: ReactNode }) => {
  const [language, setLanguage] = useState<Language>('en');

  const t = (key: string): string => {
    return translations[language][key] || key;
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = (): LanguageContextProps => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};
