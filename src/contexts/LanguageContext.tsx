import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';

type Language = 'pt' | 'en' | 'es' | 'fr' | 'de' | 'ru' | 'zh';

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const translations = {
  pt: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Interface independente para SolidTime',
    'app.github': 'GitHub',
    'welcome.title': 'Bem-vindo ao TimeTracker',
    'welcome.hero.title': 'Transparência Total em Projetos',
    'welcome.hero.subtitle': 'Uma interface independente para visualizar atividades de projetos do SolidTime',
    'welcome.hero.description': 'Este aplicativo é uma iniciativa independente do SolidTime. É uma página/app com o objetivo de transparentar as atividades de projetos para clientes.',
    'welcome.features.title': 'Principais Funcionalidades',
    'welcome.about.title': 'Sobre o Projeto',
    'welcome.about.description': 'Esta é uma interface independente criada para fornecer transparência total das atividades de projetos aos clientes.',
    'welcome.about.solidtime': 'Baseado no SolidTime, oferece uma visão clara e organizada do progresso dos projetos.',
    'welcome.footer': 'Interface independente para SolidTime - Transparência em projetos',
    'get.started': 'Começar',
    'feature.transparency.title': 'Transparência Total',
    'feature.transparency.description': 'Visibilidade completa das atividades do projeto',
    'feature.timetracking.title': 'Controle de Tempo',
    'feature.timetracking.description': 'Acompanhamento preciso do tempo gasto',
    'feature.analytics.title': 'Análises Detalhadas',
    'feature.analytics.description': 'Relatórios e métricas de desempenho',
    'feature.clients.title': 'Portal do Cliente',
    'feature.clients.description': 'Interface dedicada para clientes',
    'feature.security.title': 'Segurança',
    'feature.security.description': 'Proteção de dados garantida',
    'feature.realtime.title': 'Tempo Real',
    'feature.realtime.description': 'Atualizações instantâneas',
    'projects': 'Projetos',
    'logout': 'Sair',
    'setup.title': 'Configuração',
    'setup.description': 'Configure sua conexão',
    'setup.api.url.label': 'URL da API SolidTime',
    'setup.api.url.placeholder': 'https://app.solidtime.io',
    'setup.url.label': 'URL do SolidTime',
    'setup.url.placeholder': 'https://app.solidtime.io',
    'setup.token.label': 'Token de API',
    'setup.token.placeholder': 'Seu token de API',
    'setup.organization.label': 'ID da Organização',
    'setup.organization.placeholder': 'ID da sua organização',
    'setup.error.fields': 'Todos os campos são obrigatórios',
    'save': 'Salvar',
    'cancel': 'Cancelar',
    'loading': 'Carregando...',
    'error.generic': 'Ocorreu um erro',
    'error.retry': 'Tentar novamente',
    'no.projects': 'Nenhum projeto encontrado',
    'no.activity': 'Nenhuma atividade encontrada',
    'time.entries.title': 'Entradas de Tempo',
    'time.entries.subtitle': 'Visualize todas as entradas de tempo do projeto',
    'time.entries.back': 'Voltar ao Projeto',
    'total.hours': 'Total de Horas',
    'days.with.records': 'Dias com Registros',
    'total.records': 'Total de Registros',
    'activity.development': 'Desenvolvimento de Atividades',
    'activity.timeline': 'Linha do Tempo',
    'project.details': 'Detalhes do Projeto',
    'project.overview': 'Visão Geral',
    'view.time.entries': 'Ver Entradas de Tempo',
    'daily.hours': 'Horas Diárias',
    'weekly.overview': 'Visão Semanal',
    'team.activity': 'Atividade da Equipe',
    'latest.tasks': 'Tarefas Recentes',
    'enter.password': 'Digite a senha',
    'password': 'Senha',
    'access.project': 'Acessar Projeto',
    'invalid.password': 'Senha inválida',
    'day.details': 'Detalhes do Dia',
    'close': 'Fechar',
    'hours': 'horas',
    'task': 'Tarefa',
    'duration': 'Duração',
    'description': 'Descrição',
    'client': 'Cliente',
    'start.time': 'Hora de Início',
    'end.time': 'Hora de Fim',
    'password.modal.title': 'Acesso ao Projeto',
    'password.modal.description': 'Digite a senha para acessar o projeto:',
    'password.modal.password.label': 'Senha',
    'password.modal.password.placeholder': 'Digite a senha do projeto',
    'password.modal.cancel': 'Cancelar',
    'password.modal.access': 'Acessar',
    'password.modal.verifying': 'Verificando...',
    'password.modal.error': 'Erro',
    'password.modal.enter.password': 'Digite a senha',
    'password.modal.incorrect.password': 'Senha incorreta',
    'password.modal.verification.error': 'Erro ao verificar senha',
    'password.modal.access.granted': 'Acesso liberado',
    'password.modal.access.granted.message': 'Acesso concedido ao projeto',
    'config.auto.title': 'Configuração Automática',
    'config.auto.subtitle': 'Configurando sua conexão com o Solidtime...',
    'config.auto.configuring': 'Configurando...',
    'config.auto.success': 'Configuração salva com sucesso! Redirecionando...',
    'config.auto.error.params': 'Parâmetros de configuração inválidos na URL.',
    'config.auto.error.process': 'Erro ao processar a configuração.',
    'config.link.generator.title': 'Gerador de Links',
    'config.link.generator.subtitle': 'Crie links de configuração automática para facilitar o acesso de clientes.',
    'config.link.generate': 'Gerar Link',
    'config.link.clear': 'Limpar',
    'config.link.generated': 'Link de configuração gerado com sucesso!',
    'config.link.result': 'Link de Configuração',
    'config.link.copied': 'Link copiado!',
    'config.link.copied.description': 'O link foi copiado para a área de transferência.',
    'config.link.error.copy': 'Erro ao copiar o link.',
    'config.link.instructions.title': 'Como usar:',
    'config.link.instructions.step1': 'Preencha os campos com as informações de acesso do Solidtime',
    'config.link.instructions.step2': 'Clique em "Gerar Link" para criar o link de configuração',
    'config.link.instructions.step3': 'Compartilhe o link gerado com o cliente para configuração automática'
  },
  en: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Independent interface for SolidTime',
    'app.github': 'GitHub',
    'welcome.title': 'Welcome to TimeTracker',
    'welcome.hero.title': 'Total Project Transparency',
    'welcome.hero.subtitle': 'An independent interface to view SolidTime project activities',
    'welcome.hero.description': 'This app is an independent initiative from SolidTime. It\'s a page/app aimed at providing transparency of project activities to clients.',
    'welcome.features.title': 'Key Features',
    'welcome.about.title': 'About the Project',
    'welcome.about.description': 'This is an independent interface created to provide total transparency of project activities to clients.',
    'welcome.about.solidtime': 'Based on SolidTime, it offers a clear and organized view of project progress.',
    'welcome.footer': 'Independent interface for SolidTime - Project transparency',
    'get.started': 'Get Started',
    'feature.transparency.title': 'Total Transparency',
    'feature.transparency.description': 'Complete visibility of project activities',
    'feature.timetracking.title': 'Time Tracking',
    'feature.timetracking.description': 'Precise tracking of time spent',
    'feature.analytics.title': 'Detailed Analytics',
    'feature.analytics.description': 'Performance reports and metrics',
    'feature.clients.title': 'Client Portal',
    'feature.clients.description': 'Dedicated interface for clients',
    'feature.security.title': 'Security',
    'feature.security.description': 'Guaranteed data protection',
    'feature.realtime.title': 'Real Time',
    'feature.realtime.description': 'Instant updates',
    'projects': 'Projects',
    'logout': 'Logout',
    'setup.title': 'Setup',
    'setup.description': 'Configure your connection',
    'setup.api.url.label': 'SolidTime API URL',
    'setup.api.url.placeholder': 'https://app.solidtime.io',
    'setup.url.label': 'SolidTime URL',
    'setup.url.placeholder': 'https://app.solidtime.io',
    'setup.token.label': 'API Token',
    'setup.token.placeholder': 'Your API token',
    'setup.organization.label': 'Organization ID',
    'setup.organization.placeholder': 'Your organization ID',
    'setup.error.fields': 'All fields are required',
    'save': 'Save',
    'cancel': 'Cancel',
    'loading': 'Loading...',
    'error.generic': 'An error occurred',
    'error.retry': 'Try again',
    'no.projects': 'No projects found',
    'no.activity': 'No activity found',
    'time.entries.title': 'Time Entries',
    'time.entries.subtitle': 'View all project time entries',
    'time.entries.back': 'Back to Project',
    'total.hours': 'Total Hours',
    'days.with.records': 'Days with Records',
    'total.records': 'Total Records',
    'activity.development': 'Activity Development',
    'activity.timeline': 'Timeline',
    'project.details': 'Project Details',
    'project.overview': 'Overview',
    'view.time.entries': 'View Time Entries',
    'daily.hours': 'Daily Hours',
    'weekly.overview': 'Weekly Overview',
    'team.activity': 'Team Activity',
    'latest.tasks': 'Latest Tasks',
    'enter.password': 'Enter password',
    'password': 'Password',
    'access.project': 'Access Project',
    'invalid.password': 'Invalid password',
    'day.details': 'Day Details',
    'close': 'Close',
    'hours': 'hours',
    'task': 'Task',
    'duration': 'Duration',
    'description': 'Description',
    'client': 'Client',
    'start.time': 'Start Time',
    'end.time': 'End Time',
    'password.modal.title': 'Project Access',
    'password.modal.description': 'Enter the password to access the project:',
    'password.modal.password.label': 'Password',
    'password.modal.password.placeholder': 'Enter project password',
    'password.modal.cancel': 'Cancel',
    'password.modal.access': 'Access',
    'password.modal.verifying': 'Verifying...',
    'password.modal.error': 'Error',
    'password.modal.enter.password': 'Enter password',
    'password.modal.incorrect.password': 'Incorrect password',
    'password.modal.verification.error': 'Error verifying password',
    'password.modal.access.granted': 'Access granted',
    'password.modal.access.granted.message': 'Access granted to project',
    'config.auto.title': 'Auto Configuration',
    'config.auto.subtitle': 'Setting up your Solidtime connection...',
    'config.auto.configuring': 'Configuring...',
    'config.auto.success': 'Configuration saved successfully! Redirecting...',
    'config.auto.error.params': 'Invalid configuration parameters in URL.',
    'config.auto.error.process': 'Error processing configuration.',
    'config.link.generator.title': 'Link Generator',
    'config.link.generator.subtitle': 'Create automatic configuration links to facilitate client access.',
    'config.link.generate': 'Generate Link',
    'config.link.clear': 'Clear',
    'config.link.generated': 'Configuration link generated successfully!',
    'config.link.result': 'Configuration Link',
    'config.link.copied': 'Link copied!',
    'config.link.copied.description': 'The link has been copied to clipboard.',
    'config.link.error.copy': 'Error copying link.',
    'config.link.instructions.title': 'How to use:',
    'config.link.instructions.step1': 'Fill in the fields with Solidtime access information',
    'config.link.instructions.step2': 'Click "Generate Link" to create the configuration link',
    'config.link.instructions.step3': 'Share the generated link with the client for automatic setup'
  },
  es: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Interfaz independiente para SolidTime',
    'app.github': 'GitHub',
    'welcome.title': 'Bienvenido a TimeTracker',
    'welcome.hero.title': 'Transparencia Total de Proyectos',
    'welcome.hero.subtitle': 'Una interfaz independiente para ver las actividades de proyectos de SolidTime',
    'welcome.hero.description': 'Esta aplicación es una iniciativa independiente de SolidTime. Es una página/app con el objetivo de transparentar las actividades de proyectos para clientes.',
    'welcome.features.title': 'Características Principales',
    'welcome.about.title': 'Sobre el Proyecto',
    'welcome.about.description': 'Esta es una interfaz independiente creada para proporcionar transparencia total de las actividades del proyecto a los clientes.',
    'welcome.about.solidtime': 'Basado en SolidTime, ofrece una vista clara y organizada del progreso del proyecto.',
    'welcome.footer': 'Interfaz independiente para SolidTime - Transparencia de proyectos',
    'get.started': 'Comenzar',
    'feature.transparency.title': 'Transparencia Total',
    'feature.transparency.description': 'Visibilidad completa de las actividades del proyecto',
    'feature.timetracking.title': 'Seguimiento de Tiempo',
    'feature.timetracking.description': 'Seguimiento preciso del tiempo invertido',
    'feature.analytics.title': 'Análisis Detallados',
    'feature.analytics.description': 'Informes y métricas de rendimiento',
    'feature.clients.title': 'Portal Cliente',
    'feature.clients.description': 'Interfaz dedicada a clientes',
    'feature.security.title': 'Seguridad',
    'feature.security.description': 'Protección de datos garantizada',
    'feature.realtime.title': 'Tiempo Real',
    'feature.realtime.description': 'Actualizaciones instantáneas',
    'projects': 'Proyectos',
    'logout': 'Cerrar Sesión',
    'setup.title': 'Configuración',
    'setup.description': 'Configure su conexión',
    'setup.api.url.label': 'URL de la API SolidTime',
    'setup.api.url.placeholder': 'https://app.solidtime.io',
    'setup.url.label': 'URL de SolidTime',
    'setup.url.placeholder': 'https://app.solidtime.io',
    'setup.token.label': 'Token de API',
    'setup.token.placeholder': 'Su token de API',
    'setup.organization.label': 'ID de Organización',
    'setup.organization.placeholder': 'ID de su organización',
    'setup.error.fields': 'Todos los campos son obligatorios',
    'save': 'Guardar',
    'cancel': 'Cancelar',
    'loading': 'Cargando...',
    'error.generic': 'Ocurrió un error',
    'error.retry': 'Intentar de nuevo',
    'no.projects': 'No se encontraron proyectos',
    'no.activity': 'No se encontró actividad',
    'time.entries.title': 'Entradas de Tiempo',
    'time.entries.subtitle': 'Ver todas las entradas de tiempo del proyecto',
    'time.entries.back': 'Volver al Proyecto',
    'total.hours': 'Horas Totales',
    'days.with.records': 'Días con Registros',
    'total.records': 'Registros Totales',
    'activity.development': 'Desarrollo de Actividades',
    'activity.timeline': 'Línea de Tiempo',
    'project.details': 'Detalles del Proyecto',
    'project.overview': 'Resumen',
    'view.time.entries': 'Ver Entradas de Tiempo',
    'daily.hours': 'Horas Diarias',
    'weekly.overview': 'Resumen Semanal',
    'team.activity': 'Actividad del Equipo',
    'latest.tasks': 'Tareas Recientes',
    'enter.password': 'Ingrese la contraseña',
    'password': 'Contraseña',
    'access.project': 'Acceder al Proyecto',
    'invalid.password': 'Contraseña inválida',
    'day.details': 'Detalles del Día',
    'close': 'Cerrar',
    'hours': 'horas',
    'task': 'Tarea',
    'duration': 'Duración',
    'description': 'Descripción',
    'client': 'Cliente',
    'start.time': 'Hora de Inicio',
    'end.time': 'Hora de Fin',
    'password.modal.title': 'Acceso al Proyecto',
    'password.modal.description': 'Ingrese la contraseña para acceder al proyecto:',
    'password.modal.password.label': 'Contraseña',
    'password.modal.password.placeholder': 'Ingrese la contraseña del proyecto',
    'password.modal.cancel': 'Cancelar',
    'password.modal.access': 'Acceder',
    'password.modal.verifying': 'Verificando...',
    'password.modal.error': 'Error',
    'password.modal.enter.password': 'Ingrese la contraseña',
    'password.modal.incorrect.password': 'Contraseña incorrecta',
    'password.modal.verification.error': 'Error al verificar contraseña',
    'password.modal.access.granted': 'Acceso concedido',
    'password.modal.access.granted.message': 'Acceso concedido al proyecto',
    'config.auto.title': 'Configuración Automática',
    'config.auto.subtitle': 'Configurando tu conexión con Solidtime...',
    'config.auto.configuring': 'Configurando...',
    'config.auto.success': 'Configuración guardada con éxito! Redirigiendo...',
    'config.auto.error.params': 'Parámetros de configuración inválidos en la URL.',
    'config.auto.error.process': 'Error al procesar la configuración.',
    'config.link.generator.title': 'Generador de Enlaces',
    'config.link.generator.subtitle': 'Crea enlaces de configuración automática para facilitar el acceso del cliente.',
    'config.link.generate': 'Generar Enlace',
    'config.link.clear': 'Limpiar',
    'config.link.generated': '¡Enlace de configuración generado con éxito!',
    'config.link.result': 'Enlace de Configuración',
    'config.link.copied': '¡Enlace copiado!',
    'config.link.copied.description': 'El enlace ha sido copiado al portapapeles.',
    'config.link.error.copy': 'Error al copiar el enlace.',
    'config.link.instructions.title': 'Cómo usar:',
    'config.link.instructions.step1': 'Completa los campos con la información de acceso de Solidtime',
    'config.link.instructions.step2': 'Haz clic en "Generar Enlace" para crear el enlace de configuración',
    'config.link.instructions.step3': 'Comparte el enlace generado con el cliente para la configuración automática'
  },
  fr: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Interface indépendante pour SolidTime',
    'app.github': 'GitHub',
    'welcome.title': 'Bienvenue dans TimeTracker',
    'welcome.hero.title': 'Transparence Totale des Projets',
    'welcome.hero.subtitle': 'Une interface indépendante pour voir les activités de projet SolidTime',
    'welcome.hero.description': 'Cette application est une initiative indépendante de SolidTime. C\'est une page/app visant à transparenter les activités de projets pour les clients.',
    'welcome.features.title': 'Fonctionnalités Clés',
    'welcome.about.title': 'À Propos du Projet',
    'welcome.about.description': 'Il s\'agit d\'une interface indépendante créée pour fournir une transparence totale des activités de projet aux clients.',
    'welcome.about.solidtime': 'Basé sur SolidTime, il offre une vue claire et organisée du progrès du projet.',
    'welcome.footer': 'Interface indépendante pour SolidTime - Transparence des projets',
    'get.started': 'Commencer',
    'feature.transparency.title': 'Transparence Totale',
    'feature.transparency.description': 'Visibilité complète des activités du projet',
    'feature.timetracking.title': 'Suivi du Temps',
    'feature.timetracking.description': 'Suivi précis du temps passé',
    'feature.analytics.title': 'Analyses Détaillées',
    'feature.analytics.description': 'Rapports et métriques de performance',
    'feature.clients.title': 'Portail Client',
    'feature.clients.description': 'Interface dédiée aux clients',
    'feature.security.title': 'Sécurité',
    'feature.security.description': 'Protection des données garantie',
    'feature.realtime.title': 'Temps Réel',
    'feature.realtime.description': 'Mises à jour instantanées',
    'projects': 'Projets',
    'logout': 'Déconnexion',
    'setup.title': 'Configuration',
    'setup.description': 'Configurez votre connexion',
    'setup.api.url.label': 'URL de l\'API SolidTime',
    'setup.api.url.placeholder': 'https://app.solidtime.io',
    'setup.url.label': 'URL SolidTime',
    'setup.url.placeholder': 'https://app.solidtime.io',
    'setup.token.label': 'Token API',
    'setup.token.placeholder': 'Votre token API',
    'setup.organization.label': 'ID d\'Organisation',
    'setup.organization.placeholder': 'ID de votre organisation',
    'setup.error.fields': 'Tous les champs sont obligatoires',
    'save': 'Enregistrer',
    'cancel': 'Annuler',
    'loading': 'Chargement...',
    'error.generic': 'Une erreur s\'est produite',
    'error.retry': 'Réessayer',
    'no.projects': 'Aucun projet trouvé',
    'no.activity': 'Aucune activité trouvée',
    'time.entries.title': 'Entrées de Temps',
    'time.entries.subtitle': 'Voir toutes les entrées de temps du projet',
    'time.entries.back': 'Retour au Projet',
    'total.hours': 'Heures Totales',
    'days.with.records': 'Jours avec Enregistrements',
    'total.records': 'Enregistrements Totaux',
    'activity.development': 'Développement d\'Activités',
    'activity.timeline': 'Chronologie',
    'project.details': 'Détails du Projet',
    'project.overview': 'Aperçu',
    'view.time.entries': 'Voir les Entrées de Temps',
    'daily.hours': 'Heures Quotidiennes',
    'weekly.overview': 'Aperçu Hebdomadaire',
    'team.activity': 'Activité de l\'Équipe',
    'latest.tasks': 'Tâches Récentes',
    'enter.password': 'Entrez le mot de passe',
    'password': 'Mot de passe',
    'access.project': 'Accéder au Projet',
    'invalid.password': 'Mot de passe invalide',
    'day.details': 'Détails du Jour',
    'close': 'Fermer',
    'hours': 'heures',
    'task': 'Tâche',
    'duration': 'Durée',
    'description': 'Description',
    'client': 'Client',
    'start.time': 'Heure de Début',
    'end.time': 'Heure de Fin',
    'password.modal.title': 'Accès au Projet',
    'password.modal.description': 'Entrez le mot de passe pour accéder au projet:',
    'password.modal.password.label': 'Mot de passe',
    'password.modal.password.placeholder': 'Entrez le mot de passe du projet',
    'password.modal.cancel': 'Annuler',
    'password.modal.access': 'Accéder',
    'password.modal.verifying': 'Vérification...',
    'password.modal.error': 'Erreur',
    'password.modal.enter.password': 'Entrez le mot de passe',
    'password.modal.incorrect.password': 'Mot de passe incorrect',
    'password.modal.verification.error': 'Erreur lors de la vérification du mot de passe',
    'password.modal.access.granted': 'Accès accordé',
    'password.modal.access.granted.message': 'Accès accordé au projet',
    'config.auto.title': 'Configuration Automatique',
    'config.auto.subtitle': 'Configuration de votre connexion Solidtime...',
    'config.auto.configuring': 'Configuration...',
    'config.auto.success': 'Configuration sauvegardée avec succès! Redirection...',
    'config.auto.error.params': 'Paramètres de configuration invalides dans l\'URL.',
    'config.auto.error.process': 'Erreur lors du traitement de la configuration.',
    'config.link.generator.title': 'Générateur de Liens',
    'config.link.generator.subtitle': 'Créez des liens de configuration automatique pour faciliter l\'accès client.',
    'config.link.generate': 'Générer le Lien',
    'config.link.clear': 'Effacer',
    'config.link.generated': 'Lien de configuration généré avec succès!',
    'config.link.result': 'Lien de Configuration',
    'config.link.copied': 'Lien copié!',
    'config.link.copied.description': 'Le lien a été copié dans le presse-papiers.',
    'config.link.error.copy': 'Erreur lors de la copie du lien.',
    'config.link.instructions.title': 'Comment utiliser:',
    'config.link.instructions.step1': 'Remplissez les champs avec les informations d\'accès Solidtime',
    'config.link.instructions.step2': 'Cliquez sur "Générer le Lien" pour créer le lien de configuration',
    'config.link.instructions.step3': 'Partagez le lien généré avec le client pour la configuration automatique'
  },
  de: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Unabhängige Schnittstelle für SolidTime',
    'app.github': 'GitHub',
    'welcome.title': 'Willkommen bei TimeTracker',
    'welcome.hero.title': 'Totale Projekttransparenz',
    'welcome.hero.subtitle': 'Eine unabhängige Schnittstelle zur Anzeige von SolidTime-Projektaktivitäten',
    'welcome.hero.description': 'Diese App ist eine unabhängige Initiative von SolidTime. Es ist eine Seite/App mit dem Ziel, Projektaktivitäten für Kunden transparent zu machen.',
    'welcome.features.title': 'Hauptfunktionen',
    'welcome.about.title': 'Über das Projekt',
    'welcome.about.description': 'Dies ist eine unabhängige Schnittstelle, die erstellt wurde, um Kunden totale Transparenz der Projektaktivitäten zu bieten.',
    'welcome.about.solidtime': 'Basierend auf SolidTime bietet es eine klare und organisierte Sicht auf den Projektfortschritt.',
    'welcome.footer': 'Unabhängige Schnittstelle für SolidTime - Projekttransparenz',
    'get.started': 'Loslegen',
    'feature.transparency.title': 'Totale Transparenz',
    'feature.transparency.description': 'Vollständige Sichtbarkeit der Projektaktivitäten',
    'feature.timetracking.title': 'Zeiterfassung',
    'feature.timetracking.description': 'Präzise Verfolgung der verbrachten Zeit',
    'feature.analytics.title': 'Detaillierte Analysen',
    'feature.analytics.description': 'Leistungsberichte und Metriken',
    'feature.clients.title': 'Kundenportal',
    'feature.clients.description': 'Dedizierte Schnittstelle für Kunden',
    'feature.security.title': 'Sicherheit',
    'feature.security.description': 'Garantierter Datenschutz',
    'feature.realtime.title': 'Echtzeit',
    'feature.realtime.description': 'Sofortige Updates',
    'projects': 'Projekte',
    'logout': 'Abmelden',
    'setup.title': 'Einrichtung',
    'setup.description': 'Konfigurieren Sie Ihre Verbindung',
    'setup.api.url.label': 'SolidTime API URL',
    'setup.api.url.placeholder': 'https://app.solidtime.io',
    'setup.url.label': 'SolidTime URL',
    'setup.url.placeholder': 'https://app.solidtime.io',
    'setup.token.label': 'API Token',
    'setup.token.placeholder': 'Ihr API Token',
    'setup.organization.label': 'Organisations-ID',
    'setup.organization.placeholder': 'Ihre Organisations-ID',
    'setup.error.fields': 'Alle Felder sind erforderlich',
    'save': 'Speichern',
    'cancel': 'Abbrechen',
    'loading': 'Wird geladen...',
    'error.generic': 'Ein Fehler ist aufgetreten',
    'error.retry': 'Erneut versuchen',
    'no.projects': 'Keine Projekte gefunden',
    'no.activity': 'Keine Aktivität gefunden',
    'time.entries.title': 'Zeiteinträge',
    'time.entries.subtitle': 'Alle Projektzeiteinträge anzeigen',
    'time.entries.back': 'Zurück zum Projekt',
    'total.hours': 'Gesamtstunden',
    'days.with.records': 'Tage mit Aufzeichnungen',
    'total.records': 'Gesamte Aufzeichnungen',
    'activity.development': 'Aktivitätsentwicklung',
    'activity.timeline': 'Zeitachse',
    'project.details': 'Projektdetails',
    'project.overview': 'Übersicht',
    'view.time.entries': 'Zeiteinträge anzeigen',
    'daily.hours': 'Tägliche Stunden',
    'weekly.overview': 'Wöchentliche Übersicht',
    'team.activity': 'Teamaktivität',
    'latest.tasks': 'Neueste Aufgaben',
    'enter.password': 'Passwort eingeben',
    'password': 'Passwort',
    'access.project': 'Projekt zugreifen',
    'invalid.password': 'Ungültiges Passwort',
    'day.details': 'Tagesdetails',
    'close': 'Schließen',
    'hours': 'Stunden',
    'task': 'Aufgabe',
    'duration': 'Dauer',
    'description': 'Beschreibung',
    'client': 'Kunde',
    'start.time': 'Startzeit',
    'end.time': 'Endzeit',
    'password.modal.title': 'Projektzugriff',
    'password.modal.description': 'Geben Sie das Passwort ein, um auf das Projekt zuzugreifen:',
    'password.modal.password.label': 'Passwort',
    'password.modal.password.placeholder': 'Projektpasswort eingeben',
    'password.modal.cancel': 'Abbrechen',
    'password.modal.access': 'Zugriff',
    'password.modal.verifying': 'Überprüfung...',
    'password.modal.error': 'Fehler',
    'password.modal.enter.password': 'Passwort eingeben',
    'password.modal.incorrect.password': 'Falsches Passwort',
    'password.modal.verification.error': 'Fehler bei der Passwort-Überprüfung',
    'password.modal.access.granted': 'Zugriff gewährt',
    'password.modal.access.granted.message': 'Zugriff auf Projekt gewährt',
    'config.auto.title': 'Automatische Konfiguration',
    'config.auto.subtitle': 'Einrichtung Ihrer Solidtime-Verbindung...',
    'config.auto.configuring': 'Konfiguriere...',
    'config.auto.success': 'Konfiguration erfolgreich gespeichert! Weiterleitung...',
    'config.auto.error.params': 'Ungültige Konfigurationsparameter in der URL.',
    'config.auto.error.process': 'Fehler beim Verarbeiten der Konfiguration.',
    'config.link.generator.title': 'Link-Generator',
    'config.link.generator.subtitle': 'Erstellen Sie automatische Konfigurationslinks für einfachen Kundenzugang.',
    'config.link.generate': 'Link Generieren',
    'config.link.clear': 'Löschen',
    'config.link.generated': 'Konfigurationslink erfolgreich generiert!',
    'config.link.result': 'Konfigurationslink',
    'config.link.copied': 'Link kopiert!',
    'config.link.copied.description': 'Der Link wurde in die Zwischenablage kopiert.',
    'config.link.error.copy': 'Fehler beim Kopieren des Links.',
    'config.link.instructions.title': 'Verwendung:',
    'config.link.instructions.step1': 'Füllen Sie die Felder mit Solidtime-Zugriffsinformationen aus',
    'config.link.instructions.step2': 'Klicken Sie auf "Link Generieren", um den Konfigurationslink zu erstellen',
    'config.link.instructions.step3': 'Teilen Sie den generierten Link mit dem Kunden für die automatische Einrichtung'
  },
  ru: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'Независимый интерфейс для SolidTime',
    'app.github': 'GitHub',
    'welcome.title': 'Добро пожаловать в TimeTracker',
    'welcome.hero.title': 'Полная Прозрачность Проектов',
    'welcome.hero.subtitle': 'Независимый интерфейс для просмотра активности проектов SolidTime',
    'welcome.hero.description': 'Это приложение - независимая инициатива от SolidTime. Это страница/приложение с целью обеспечить прозрачность проектной деятельности для клиентов.',
    'welcome.features.title': 'Ключевые Функции',
    'welcome.about.title': 'О Проекте',
    'welcome.about.description': 'Это независимый интерфейс, созданный для обеспечения полной прозрачности проектной деятельности для клиентов.',
    'welcome.about.solidtime': 'Основанный на SolidTime, он предлагает четкий и организованный взгляд на прогресс проекта.',
    'welcome.footer': 'Независимый интерфейс для SolidTime - Прозрачность проектов',
    'get.started': 'Начать',
    'feature.transparency.title': 'Полная Прозрачность',
    'feature.transparency.description': 'Полная видимость активности проекта',
    'feature.timetracking.title': 'Учет Времени',
    'feature.timetracking.description': 'Точное отслеживание потраченного времени',
    'feature.analytics.title': 'Подробная Аналитика',
    'feature.analytics.description': 'Отчеты о производительности и метрики',
    'feature.clients.title': 'Портал Клиента',
    'feature.clients.description': 'Выделенный интерфейс для клиентов',
    'feature.security.title': 'Безопасность',
    'feature.security.description': 'Гарантированная защита данных',
    'feature.realtime.title': 'Реальное Время',
    'feature.realtime.description': 'Мгновенные обновления',
    'projects': 'Проекты',
    'logout': 'Выйти',
    'setup.title': 'Настройка',
    'setup.description': 'Настройте ваше соединение',
    'setup.api.url.label': 'URL API SolidTime',
    'setup.api.url.placeholder': 'https://app.solidtime.io',
    'setup.url.label': 'URL SolidTime',
    'setup.url.placeholder': 'https://app.solidtime.io',
    'setup.token.label': 'API Токен',
    'setup.token.placeholder': 'Ваш API токен',
    'setup.organization.label': 'ID Организации',
    'setup.organization.placeholder': 'ID вашей организации',
    'setup.error.fields': 'Все поля обязательны',
    'save': 'Сохранить',
    'cancel': 'Отмена',
    'loading': 'Загрузка...',
    'error.generic': 'Произошла ошибка',
    'error.retry': 'Попробовать снова',
    'no.projects': 'Проекты не найдены',
    'no.activity': 'Активность не найдена',
    'time.entries.title': 'Записи Времени',
    'time.entries.subtitle': 'Просмотреть все записи времени проекта',
    'time.entries.back': 'Вернуться к Проекту',
    'total.hours': 'Общие Часы',
    'days.with.records': 'Дни с Записями',
    'total.records': 'Общие Записи',
    'activity.development': 'Разработка Активности',
    'activity.timeline': 'Временная Шкала',
    'project.details': 'Детали Проекта',
    'project.overview': 'Обзор',
    'view.time.entries': 'Просмотреть Записи Времени',
    'daily.hours': 'Ежедневные Часы',
    'weekly.overview': 'Еженедельный Обзор',
    'team.activity': 'Активность Команды',
    'latest.tasks': 'Последние Задачи',
    'enter.password': 'Введите пароль',
    'password': 'Пароль',
    'access.project': 'Доступ к Проекту',
    'invalid.password': 'Неверный пароль',
    'day.details': 'Детали Дня',
    'close': 'Закрыть',
    'hours': 'часы',
    'task': 'Задача',
    'duration': 'Продолжительность',
    'description': 'Описание',
    'client': 'Клиент',
    'start.time': 'Время Начала',
    'end.time': 'Время Окончания',
    'password.modal.title': 'Доступ к Проекту',
    'password.modal.description': 'Введите пароль для доступа к проекту:',
    'password.modal.password.label': 'Пароль',
    'password.modal.password.placeholder': 'Введите пароль проекта',
    'password.modal.cancel': 'Отмена',
    'password.modal.access': 'Доступ',
    'password.modal.verifying': 'Проверка...',
    'password.modal.error': 'Ошибка',
    'password.modal.enter.password': 'Введите пароль',
    'password.modal.incorrect.password': 'Неверный пароль',
    'password.modal.verification.error': 'Ошибка проверки пароля',
    'password.modal.access.granted': 'Доступ предоставлен',
    'password.modal.access.granted.message': 'Доступ к проекту предоставлен',
    'config.auto.title': 'Автоматическая Настройка',
    'config.auto.subtitle': 'Настройка вашего подключения к Solidtime...',
    'config.auto.configuring': 'Настройка...',
    'config.auto.success': 'Конфигурация успешно сохранена! Перенаправление...',
    'config.auto.error.params': 'Недопустимые параметры конфигурации в URL.',
    'config.auto.error.process': 'Ошибка при обработке конфигурации.',
    'config.link.generator.title': 'Генератор Ссылок',
    'config.link.generator.subtitle': 'Создавайте автоматические ссылки конфигурации для облегчения доступа клиентов.',
    'config.link.generate': 'Создать Ссылку',
    'config.link.clear': 'Очистить',
    'config.link.generated': 'Ссылка конфигурации успешно создана!',
    'config.link.result': 'Ссылка Конфигурации',
    'config.link.copied': 'Ссылка скопирована!',
    'config.link.copied.description': 'Ссылка была скопирована в буфер обмена.',
    'config.link.error.copy': 'Ошибка при копировании ссылки.',
    'config.link.instructions.title': 'Как использовать:',
    'config.link.instructions.step1': 'Заполните поля информацией для доступа к Solidtime',
    'config.link.instructions.step2': 'Нажмите "Создать Ссылку" для создания ссылки конфигурации',
    'config.link.instructions.step3': 'Поделитесь созданной ссылкой с клиентом для автоматической настройки'
  },
  zh: {
    'app.title': 'TimeTracker',
    'app.addon.description': 'SolidTime 的独立界面',
    'app.github': 'GitHub',
    'welcome.title': '欢迎使用 TimeTracker',
    'welcome.hero.title': '项目完全透明',
    'welcome.hero.subtitle': '查看 SolidTime 项目活动的独立界面',
    'welcome.hero.description': '这个应用程序是 SolidTime 的独立倡议。这是一个页面/应用程序，旨在为客户透明化项目活动。',
    'welcome.features.title': '主要功能',
    'welcome.about.title': '关于项目',
    'welcome.about.description': '这是一个独立界面，旨在为客户提供项目活动的完全透明性。',
    'welcome.about.solidtime': '基于 SolidTime，它提供了项目进度的清晰有序视图。',
    'welcome.footer': 'SolidTime 的独立界面 - 项目透明度',
    'get.started': '开始',
    'feature.transparency.title': '完全透明',
    'feature.transparency.description': '项目活动的完全可见性',
    'feature.timetracking.title': '时间跟踪',
    'feature.timetracking.description': '精确跟踪花费的时间',
    'feature.analytics.title': '详细分析',
    'feature.analytics.description': '性能报告和指标',
    'feature.clients.title': '客户门户',
    'feature.clients.description': '专用客户界面',
    'feature.security.title': '安全性',
    'feature.security.description': '保证数据保护',
    'feature.realtime.title': '实时',
    'feature.realtime.description': '即时更新',
    'projects': '项目',
    'logout': '登出',
    'setup.title': '设置',
    'setup.description': '配置您的连接',
    'setup.api.url.label': 'SolidTime API URL',
    'setup.api.url.placeholder': 'https://app.solidtime.io',
    'setup.url.label': 'SolidTime URL',
    'setup.url.placeholder': 'https://app.solidtime.io',
    'setup.token.label': 'API 令牌',
    'setup.token.placeholder': '您的 API 令牌',
    'setup.organization.label': '组织 ID',
    'setup.organization.placeholder': '您的组织 ID',
    'setup.error.fields': '所有字段都是必需的',
    'save': '保存',
    'cancel': '取消',
    'loading': '加载中...',
    'error.generic': '发生错误',
    'error.retry': '重试',
    'no.projects': '未找到项目',
    'no.activity': '未找到活动',
    'time.entries.title': '时间条目',
    'time.entries.subtitle': '查看所有项目时间条目',
    'time.entries.back': '返回项目',
    'total.hours': '总小时数',
    'days.with.records': '有记录的天数',
    'total.records': '总记录数',
    'activity.development': '活动开发',
    'activity.timeline': '时间轴',
    'project.details': '项目详情',
    'project.overview': '概览',
    'view.time.entries': '查看时间条目',
    'daily.hours': '每日小时',
    'weekly.overview': '每周概览',
    'team.activity': '团队活动',
    'latest.tasks': '最新任务',
    'enter.password': '输入密码',
    'password': '密码',
    'access.project': '访问项目',
    'invalid.password': '密码无效',
    'day.details': '日期详情',
    'close': '关闭',
    'hours': '小时',
    'task': '任务',
    'duration': '持续时间',
    'description': '描述',
    'client': '客户',
    'start.time': '开始时间',
    'end.time': '结束时间',
    'password.modal.title': '项目访问',
    'password.modal.description': '输入密码以访问项目：',
    'password.modal.password.label': '密码',
    'password.modal.password.placeholder': '输入项目密码',
    'password.modal.cancel': '取消',
    'password.modal.access': '访问',
    'password.modal.verifying': '验证中...',
    'password.modal.error': '错误',
    'password.modal.enter.password': '输入密码',
    'password.modal.incorrect.password': '密码错误',
    'password.modal.verification.error': '密码验证错误',
    'password.modal.access.granted': '访问已授予',
    'password.modal.access.granted.message': '项目访问已授予',
    'config.auto.title': '自动配置',
    'config.auto.subtitle': '正在设置您的 Solidtime 连接...',
    'config.auto.configuring': '配置中...',
    'config.auto.success': '配置保存成功！正在重定向...',
    'config.auto.error.params': 'URL中的配置参数无效。',
    'config.auto.error.process': '处理配置时出错。',
    'config.link.generator.title': '链接生成器',
    'config.link.generator.subtitle': '创建自动配置链接，方便客户访问。',
    'config.link.generate': '生成链接',
    'config.link.clear': '清除',
    'config.link.generated': '配置链接生成成功！',
    'config.link.result': '配置链接',
    'config.link.copied': '链接已复制！',
    'config.link.copied.description': '链接已复制到剪贴板。',
    'config.link.error.copy': '复制链接时出错。',
    'config.link.instructions.title': '使用方法：',
    'config.link.instructions.step1': '填写 Solidtime 访问信息字段',
    'config.link.instructions.step2': '点击"生成链接"创建配置链接',
    'config.link.instructions.step3': '与客户分享生成的链接进行自动设置'
  }
};

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};

const detectBrowserLanguage = (): Language => {
  const browserLang = navigator.language.split('-')[0].toLowerCase();
  const supportedLangs: Language[] = ['pt', 'en', 'es', 'fr', 'de', 'ru', 'zh'];
  
  if (supportedLangs.includes(browserLang as Language)) {
    return browserLang as Language;
  }
  
  return 'en'; // fallback to English
};

interface LanguageProviderProps {
  children: ReactNode;
}

export const LanguageProvider: React.FC<LanguageProviderProps> = ({ children }) => {
  const [language, setLanguageState] = useState<Language>(() => {
    const savedLang = localStorage.getItem('language');
    if (savedLang && ['pt', 'en', 'es', 'fr', 'de', 'ru', 'zh'].includes(savedLang)) {
      return savedLang as Language;
    }
    return detectBrowserLanguage();
  });

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem('language', lang);
  };

  const t = (key: string): string => {
    return translations[language][key] || key;
  };

  useEffect(() => {
    const savedLang = localStorage.getItem('language');
    if (!savedLang) {
      const detectedLang = detectBrowserLanguage();
      setLanguage(detectedLang);
    }
  }, []);

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};
